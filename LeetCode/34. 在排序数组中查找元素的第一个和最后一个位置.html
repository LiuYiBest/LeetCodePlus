<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>在排序数组中查找元素的第一个和最后一个位置</title>
</head>

<body>
    <script>
        //   https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/description/
        var searchRange = function (nums, target) {
            if (nums.length == 0) { return [-1, -1]; }
            let left = 0, right = nums.length - 1;
            let mid;
                //二分查找
            while(left <= right) {
                mid = parseInt( (left + right) / 2 )
                if (nums[mid] == target) {
                    //找到target，向左右分别查找第一个和最后一个位置
                    let first = mid, last = mid;
                    while(first > 0 && nums[first-1] == target) {
                        first--;
                    }
                    while(last < nums.length-1 && nums[last+1] == target) {
                        last++;
                    }
                    return [first, last];
                } else if (nums[mid] < target) {
                    left = mid + 1;
                } else {
                    right = mid - 1;
                }
            }
            //未找到target
            return [-1, -1];    
        };

        console.log(searchRange([5, 7, 7, 8, 8, 10], 8)); // [3, 4]

    </script>
</body>

</html>